{"uid":"97b26af76bd6ec2","name":"3 - yandex","fullName":"tests.test_compare#test_compare_html_yandex","historyId":"d5aa8861bf6b57e395524e74ac9301d7","time":{"start":1744870912205,"stop":1744870914033,"duration":1828},"description":"Проверяем, что страницы REF и TARGET возвращают одинаковый HTML и статус код 200.","descriptionHtml":"<p>Проверяем, что страницы REF и TARGET возвращают одинаковый HTML и статус код 200.</p>\n","status":"failed","statusMessage":"AssertionError: HTML ответы отличаются!\nassert '<body></body...)();</script>' == '<!doctype ht.../body></html>'\n  + <body></body><script nonce='7c7ba2c523ba7b0a5010f65544b920f1'>var it = {\"host\":\"https:\\u002F\\u002Fsso.dzen.ru\\u002Finstall?uuid=0af8e9ad-0569-4260-95fc-4030b8321a2b\",\"retpath\":\"https:\\u002F\\u002Fdzen.ru\\u002F?yredirect=true&is_autologin_ya=true\"};(function() { var form = document.createElement('form'); var element1 = document.createElement('input'); var element2 = document.createElement('input'); element1.name = 'retpath'; element1.type = 'hidden'; element1.value = it.retpath; form.appendChild(element1); element2.name = 'container'; element2.type = 'hidden'; element2....\n  \n  ...Full output truncated (14 lines hidden), use '-vv' to show","statusTrace":"self = <test_compare.TestCompareHTML object at 0x000002920F547EF0>\n\n    @allure.title(\"3 - yandex\")\n    @allure.description(\"Проверяем, что страницы REF и TARGET возвращают одинаковый HTML и статус код 200.\")\n    def test_compare_html_yandex(self):\n        url_ref = \"http://yandex.ru\"\n        url_target = \"http://google.com\"\n    \n        with allure.step(f\"GET запрос к REF: {url_ref}\"):\n            ref = requests.get(url_ref)\n            allure.attach(ref.text, name=\"REF Response\", attachment_type=allure.attachment_type.TEXT)\n            assert ref.status_code == 200\n    \n        with allure.step(f\"GET запрос к TARGET: {url_target}\"):\n            target = requests.get(url_target)\n            allure.attach(target.text, name=\"TARGET Response\", attachment_type=allure.attachment_type.TEXT)\n            assert target.status_code == 200\n    \n        with allure.step(\"Сравнение HTML содержимого\"):\n>           assert ref.text == target.text, \"HTML ответы отличаются!\"\nE           AssertionError: HTML ответы отличаются!\nE           assert '<body></body...)();</script>' == '<!doctype ht.../body></html>'\nE             + <body></body><script nonce='7c7ba2c523ba7b0a5010f65544b920f1'>var it = {\"host\":\"https:\\u002F\\u002Fsso.dzen.ru\\u002Finstall?uuid=0af8e9ad-0569-4260-95fc-4030b8321a2b\",\"retpath\":\"https:\\u002F\\u002Fdzen.ru\\u002F?yredirect=true&is_autologin_ya=true\"};(function() { var form = document.createElement('form'); var element1 = document.createElement('input'); var element2 = document.createElement('input'); element1.name = 'retpath'; element1.type = 'hidden'; element1.value = it.retpath; form.appendChild(element1); element2.name = 'container'; element2.type = 'hidden'; element2....\nE             \nE             ...Full output truncated (14 lines hidden), use '-vv' to show\n\ntests\\test_compare.py:62: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"django_db_blocker","time":{"start":1744870911547,"stop":1744870911547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_fail_for_invalid_template_variable","time":{"start":1744870911547,"stop":1744870911547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_django_setup_unittest","time":{"start":1744870911547,"stop":1744870911547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"django_test_environment","time":{"start":1744870911547,"stop":1744870911547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_dj_autoclear_mailbox","time":{"start":1744870912204,"stop":1744870912205,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_template_string_if_invalid_marker","time":{"start":1744870912205,"stop":1744870912205,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_django_set_urlconf","time":{"start":1744870912205,"stop":1744870912205,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_live_server_helper","time":{"start":1744870912205,"stop":1744870912205,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_django_clear_site_cache","time":{"start":1744870912205,"stop":1744870912205,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_django_db_marker","time":{"start":1744870912205,"stop":1744870912205,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"Проверяем, что страницы REF и TARGET возвращают одинаковый HTML и статус код 200.","status":"failed","statusMessage":"AssertionError: HTML ответы отличаются!\nassert '<body></body...)();</script>' == '<!doctype ht.../body></html>'\n  + <body></body><script nonce='7c7ba2c523ba7b0a5010f65544b920f1'>var it = {\"host\":\"https:\\u002F\\u002Fsso.dzen.ru\\u002Finstall?uuid=0af8e9ad-0569-4260-95fc-4030b8321a2b\",\"retpath\":\"https:\\u002F\\u002Fdzen.ru\\u002F?yredirect=true&is_autologin_ya=true\"};(function() { var form = document.createElement('form'); var element1 = document.createElement('input'); var element2 = document.createElement('input'); element1.name = 'retpath'; element1.type = 'hidden'; element1.value = it.retpath; form.appendChild(element1); element2.name = 'container'; element2.type = 'hidden'; element2....\n  \n  ...Full output truncated (14 lines hidden), use '-vv' to show","statusTrace":"self = <test_compare.TestCompareHTML object at 0x000002920F547EF0>\n\n    @allure.title(\"3 - yandex\")\n    @allure.description(\"Проверяем, что страницы REF и TARGET возвращают одинаковый HTML и статус код 200.\")\n    def test_compare_html_yandex(self):\n        url_ref = \"http://yandex.ru\"\n        url_target = \"http://google.com\"\n    \n        with allure.step(f\"GET запрос к REF: {url_ref}\"):\n            ref = requests.get(url_ref)\n            allure.attach(ref.text, name=\"REF Response\", attachment_type=allure.attachment_type.TEXT)\n            assert ref.status_code == 200\n    \n        with allure.step(f\"GET запрос к TARGET: {url_target}\"):\n            target = requests.get(url_target)\n            allure.attach(target.text, name=\"TARGET Response\", attachment_type=allure.attachment_type.TEXT)\n            assert target.status_code == 200\n    \n        with allure.step(\"Сравнение HTML содержимого\"):\n>           assert ref.text == target.text, \"HTML ответы отличаются!\"\nE           AssertionError: HTML ответы отличаются!\nE           assert '<body></body...)();</script>' == '<!doctype ht.../body></html>'\nE             + <body></body><script nonce='7c7ba2c523ba7b0a5010f65544b920f1'>var it = {\"host\":\"https:\\u002F\\u002Fsso.dzen.ru\\u002Finstall?uuid=0af8e9ad-0569-4260-95fc-4030b8321a2b\",\"retpath\":\"https:\\u002F\\u002Fdzen.ru\\u002F?yredirect=true&is_autologin_ya=true\"};(function() { var form = document.createElement('form'); var element1 = document.createElement('input'); var element2 = document.createElement('input'); element1.name = 'retpath'; element1.type = 'hidden'; element1.value = it.retpath; form.appendChild(element1); element2.name = 'container'; element2.type = 'hidden'; element2....\nE             \nE             ...Full output truncated (14 lines hidden), use '-vv' to show\n\ntests\\test_compare.py:62: AssertionError","steps":[{"name":"GET запрос к REF: http://yandex.ru","time":{"start":1744870912206,"stop":1744870913834,"duration":1628},"status":"passed","steps":[],"attachments":[{"uid":"12e8fb4347972511","name":"REF Response","source":"12e8fb4347972511.txt","type":"text/plain","size":1980}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"GET запрос к TARGET: http://google.com","time":{"start":1744870913834,"stop":1744870914028,"duration":194},"status":"passed","steps":[],"attachments":[{"uid":"252fe985c13817e7","name":"TARGET Response","source":"252fe985c13817e7.txt","type":"text/plain","size":19631}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"Сравнение HTML содержимого","time":{"start":1744870914028,"stop":1744870914032,"duration":4},"status":"failed","statusMessage":"AssertionError: HTML ответы отличаются!\nassert '<body></body...)();</script>' == '<!doctype ht.../body></html>'\n  + <body></body><script nonce='7c7ba2c523ba7b0a5010f65544b920f1'>var it = {\"host\":\"https:\\u002F\\u002Fsso.dzen.ru\\u002Finstall?uuid=0af8e9ad-0569-4260-95fc-4030b8321a2b\",\"retpath\":\"https:\\u002F\\u002Fdzen.ru\\u002F?yredirect=true&is_autologin_ya=true\"};(function() { var form = document.createElement('form'); var element1 = document.createElement('input'); var element2 = document.createElement('input'); element1.name = 'retpath'; element1.type = 'hidden'; element1.value = it.retpath; form.appendChild(element1); element2.name = 'container'; element2.type = 'hidden'; element2....\n  \n  ...Full output truncated (14 lines hidden), use '-vv' to show\n","statusTrace":"  File \"D:\\Github\\el-o4\\test-eq\\tests\\test_compare.py\", line 62, in test_compare_html_yandex\n    assert ref.text == target.text, \"HTML ответы отличаются!\"\n    \n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":2,"hasContent":true},"afterStages":[{"name":"_django_setup_unittest::0","time":{"start":1744870914042,"stop":1744870914042,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"suite","value":"Сравнение HTML-ответов с двух серверов"},{"name":"parentSuite","value":"tests"},{"name":"subSuite","value":"TestCompareHTML"},{"name":"host","value":"DESKTOP-7H4UQS5"},{"name":"thread","value":"19328-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_compare"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"97b26af76bd6ec2.json","parameterValues":[]}